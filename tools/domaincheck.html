<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Domain Quick Check â€” TrendBoard Tools</title>
  <meta name="description" content="Quick heuristic domain trust check (reachability + flags).">
  <link rel="stylesheet" href="../assets/style.css"/>
</head>
<body>
  <header class="topbar">
    <div class="brand"><div class="logo-mark">TB</div><div class="brand-text"><h1>TrendBoard</h1><small>Domain Quick Check</small></div></div>
    <nav class="nav"><a href="../index.html">Home</a><a href="index.html">Tools</a></nav>
    <div class="actions"><button class="icon-btn">ðŸŒ“</button></div>
  </header>

  <main class="container">
    <section class="card glass">
      <h2>Domain Quick Check</h2>
      <p class="muted">This is a quick heuristic check: reachability, obvious flags, and basic score. Not a security audit.</p>
      <input id="dc_domain" placeholder="example.com or https://example.com" />
      <div style="margin-top:10px"><button id="dc_run" class="primary-btn">Check Now</button></div>
      <div id="dc_out" class="output" style="margin-top:12px"></div>
    </section>
  </main>

<script src="../assets/script.js"></script>
<script>
(function(){
  const input = document.getElementById('dc_domain'), out = document.getElementById('dc_out');
  document.getElementById('dc_run').addEventListener('click', async ()=>{
    const q0 = input.value.trim(); if(!q0) return out.textContent='Enter a domain or URL';
    let q = q0;
    if(!/^https?:\/\//i.test(q)) q = 'https://' + q;
    let score = 70; const flags = [];
    const lower = q0.toLowerCase();
    if(/free|win|gift|cheap|discount|deal/.test(lower)){ score -= 30; flags.push('Promotional words detected (suspicious)'); }
    if(!/\./.test(q0)) { score -= 30; flags.push('Not a valid domain'); }
    // try fetch via allorigins proxy to avoid CORS
    try{
      const proxy = 'https://api.allorigins.win/raw?url=' + encodeURIComponent(q);
      const res = await fetch(proxy, { method:'GET' , mode:'cors' });
      if(!res.ok){ score -= 25; flags.push('Not reachable over HTTPS'); }
      else {
        const txt = await res.text().catch(()=>'');
        // check basic page signs
        if(/contact|about|privacy|terms/i.test(txt) === false) { flags.push('Page lacks obvious trust pages (contact/privacy)'); score -= 5; }
      }
    } catch(e){
      score -= 20; flags.push('Fetch failed (site may be down or blocking requests)');
    }
    score = Math.max(0, Math.min(100, score));
    out.innerHTML = `<div><strong>Score: ${score}/100</strong></div>` + (flags.length ? `<div style="margin-top:8px"><strong>Flags:</strong><ul>${flags.map(s=>`<li>${s}</li>`).join('')}</ul></div>` : `<div style="margin-top:8px">No obvious flags detected.</div>`) + `<div style="margin-top:10px" class="muted">Note: This tool is heuristic-only and not a security scanner.</div>`;
  });
})();
</script>
</body>
</html>

